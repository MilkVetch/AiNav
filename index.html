<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="pageTitle">Nav Hub</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="theme-classic">

    <div class="bg-glow"></div>

    <nav class="site-navbar">
        <div class="nav-container">
            <div class="nav-brand" onclick="confirmReset()">
                <span id="navBrandText">Nav Hub</span>
                <div id="statusIndicator">
                    <span id="syncStatus" class="status-dot"></span>
                </div>
            </div>
            <div class="nav-actions">
                <button id="addSiteBtn" class="glass-btn hide" onclick="openCustomModal('siteModal')"></button>
                <button id="addCatBtn" class="glass-btn hide" onclick="openCustomModal('catModal')"></button>
                <button class="glass-btn setup-primary" id="topSetupBtn" onclick="handleOpenSettings()">
                    <i data-lucide="settings" class="icon-sm"></i>
                    <span id="btnSettingsText">Setup</span>
                </button>
            </div>
        </div>
    </nav>

    <main class="content-wrapper">
        <header class="hero-section">
            <h1 id="digitalClock">00:00</h1>
            <p id="greetingText">...</p>
            <div class="search-container" id="searchBarArea">
                <div class="search-box">
                    <i data-lucide="search"></i>
                    <input type="text" id="searchInput" onkeypress="handleSearch(event)">
                </div>
            </div>
        </header>
        <div id="app"></div>
    </main>

    <footer class="footer">© 2025 Khee. Crafted with ♥ for AI lovers.</footer>

    <div class="custom-overlay" id="modalOverlay" onclick="closeAllModals()"></div>

    <div class="custom-modal" id="settingsModal">
        <div class="modal-header">
            <button class="nav-back-btn hide" id="settingsBackBtn" onclick="showSettingsHome()">
                <i data-lucide="chevron-left" class="chevron-icon"></i>
            </button>
            <h3 id="modalTitleSettings">Setup</h3>
            <button class="modal-close-x" onclick="closeAllModals()">&times;</button>
        </div>
        <div class="modal-body">
            <div id="settingsHome">
                <div class="setup-menu-item" onclick="showSettingPage('pageLang')">
                    <div class="menu-label-box"><i data-lucide="languages" class="menu-icon"></i><span id="menuLangText">Language</span></div>
                    <i data-lucide="chevron-right" class="chevron-icon"></i>
                </div>
                <div class="setup-menu-divider"></div>
                <div class="setup-menu-item hide" id="menuBoardItem" onclick="showSettingPage('pageBoards')">
                    <div class="menu-label-box"><i data-lucide="layers" class="menu-icon"></i><span id="menuBoardText">Boards</span></div>
                    <i data-lucide="chevron-right" class="chevron-icon"></i>
                </div>
                <div class="setup-menu-divider hide" id="menuBoardDivider"></div>
                <div class="setup-menu-item" onclick="showSettingPage('pageSetup')">
                    <div class="menu-label-box"><i data-lucide="database" class="menu-icon"></i><span id="menuSetupText">Setup</span></div>
                    <i data-lucide="chevron-right" class="chevron-icon"></i>
                </div>
            </div>

            <div id="pageSetup" class="setup-sub-page hide">
                <div class="setup-form">
                    <div class="setup-field">
                        <label class="setup-label">GitHub Token</label>
                        <input type="password" id="ghToken" class="setup-input">
                    </div>
                    <div class="setup-field">
                        <label class="setup-label">Gist ID</label>
                        <input type="text" id="gistId" class="setup-input">
                    </div>
                    <button class="setup-confirm-btn" id="btnSaveConfig" onclick="saveSettings()">保存并同步</button>
                </div>
            </div>

            <div id="pageLang" class="setup-sub-page hide">
                <div class="setup-form">
                    <label class="setup-label">Select Language</label>
                    <div class="setup-row"><button class="setup-btn-sm" onclick="setLanguage('zh')">简体中文</button><button class="setup-btn-sm" onclick="setLanguage('en')">English</button></div>
                </div>
            </div>
            <div id="pageBoards" class="setup-sub-page hide">
                <div class="setup-form">
                    <label class="setup-label" id="labelSwitchBoard">Switch</label>
                    <select id="boardSwitcher" class="setup-select" onchange="switchBoard(this.value)"></select>
                    <label class="setup-label" id="labelRenameBoard">Rename</label>
                    <div class="setup-input-group"><input type="text" id="siteTitleInput" class="setup-input"><button class="setup-btn-sm" onclick="renameBoard()">应用</button></div>
                    <div class="setup-row"><button class="setup-btn success" onclick="createNewBoard()">+ 新增</button><button class="setup-btn danger" onclick="deleteCurrentBoard()">删除</button></div>
                </div>
            </div>
        </div>
    </div>

    <div class="custom-modal" id="siteModal">
        <div class="modal-header"><h3>新增网址</h3><button class="modal-close-x" onclick="closeAllModals()">&times;</button></div>
        <div class="modal-body"><div class="setup-form">
            <div class="setup-field"><label class="setup-label">分类</label><select id="targetCat" class="setup-select"></select></div>
            <div class="setup-field"><label class="setup-label">名称</label><input type="text" id="siteName" class="setup-input"></div>
            <div class="setup-field"><label class="setup-label">网址</label><input type="text" id="siteUrl" class="setup-input" placeholder="www.google.com"></div>
            <button class="setup-confirm-btn" onclick="addItem()">确认添加</button>
        </div></div>
    </div>

    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="script.js"></script>
</body>
</html>